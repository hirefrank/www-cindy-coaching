---
import Layout from '../layouts/Layout.astro';
import CalButton from '../components/CalButton';
import { getGlobalSettings } from '../lib/cosmic';

// Fetch global settings from Cosmic
const globalSettings = await getGlobalSettings();

// Extract calendar links with fallbacks
const calendarLinks = {
    consultation: globalSettings?.metadata?.calendar_links?.free_consultation || "cindy-romanzo/consultation",
    officeHours: globalSettings?.metadata?.calendar_links?.office_hours || "cindy-romanzo/office-hours"
};

// Helper function to extract cal.com slug from full URL
const getCalSlug = (url: string) => {
    if (url.includes('cal.com/')) {
        return url.split('cal.com/')[1];
    }
    return url;
};
---

<Layout title="Services - Mindful Balance ADHD Coaching">
  <!-- Hero Section -->
  <section class="section-padding bg-gradient-to-b from-muted/30 to-background">
    <div class="max-w-4xl mx-auto container-padding text-center">
      <h1 class="mb-24">Comprehensive ADHD Coaching Services</h1>
      <p class="text-xl text-muted-foreground leading-relaxed">
        Bridging brain science with practical strategies to support neurodiverse 
        individuals, families, and organizations through evidence-based coaching approaches.
      </p>
    </div>
  </section>

  <!-- For Parents & Families -->
  <section class="py-48">
    <div class="max-w-6xl mx-auto container-padding">
      <div class="text-center mb-64">
        <h2 class="mb-24">For Parents & Families</h2>
        <p class="text-xl text-muted-foreground max-w-3xl mx-auto">
          As a mother of triplets and experienced PT, I understand the unique challenges 
          families face when supporting neurodiverse children.
        </p>
      </div>
      
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-32 max-w-4xl mx-auto">
        <div class="card hover:shadow-lg transition-shadow duration-300 flex flex-col h-full">
          <div class="card-content p-32 flex flex-col flex-grow">
            <h3 class="mb-16">Parent Coaching</h3>
            <p class="text-muted-foreground mb-24 leading-relaxed">
              Supporting parents in understanding and advocating for their neurodiverse children, 
              with family support and strategy development. Working to reduce conflict and build support.
            </p>
            <div class="space-y-8 text-sm text-muted-foreground mb-24 flex-grow">
              <p>• Understanding your child's unique brain</p>
              <p>• Developing effective communication strategies</p>
              <p>• School advocacy and IEP support</p>
              <p>• Family system assessment</p>
            </div>
            <div class="mt-auto">
              <CalButton 
                calLink={getCalSlug(calendarLinks.consultation)}
                className="btn-primary w-full"
                namespace="services-consultation"
                client:load
              >
                Schedule Consultation
              </CalButton>
            </div>
          </div>
        </div>
        
        <div class="card hover:shadow-lg transition-shadow duration-300 flex flex-col h-full">
          <div class="card-content p-32 flex flex-col flex-grow">
            <h3 class="mb-16">Adult Coaching</h3>
            <p class="text-muted-foreground mb-24 leading-relaxed">
              One-on-one coaching for adults with ADHD and executive function challenges. 
              Develop personalized strategies that work with your unique brain and lifestyle.
            </p>
            <div class="space-y-8 text-sm text-muted-foreground mb-24 flex-grow">
              <p>• Workplace productivity and organization</p>
              <p>• Time management and priority setting</p>
              <p>• Emotional regulation and stress management</p>
              <p>• Building sustainable daily routines</p>
            </div>
            <div class="mt-auto">
              <CalButton 
                calLink={getCalSlug(calendarLinks.consultation)}
                className="btn-primary w-full"
                namespace="services-consultation"
                client:load
              >
                Schedule Consultation
              </CalButton>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>


  <!-- For Organizations -->
  <section class="py-48">
    <div class="max-w-6xl mx-auto container-padding">
      <div class="text-center mb-64">
        <h2 class="mb-24">For Organizations & Professionals</h2>
        <p class="text-xl text-muted-foreground max-w-3xl mx-auto">
          Professional development and consultation services for educators and organizations 
          working with neurodiverse populations.
        </p>
      </div>
      
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-32">
        <div class="card hover:shadow-lg transition-shadow duration-300 flex flex-col h-full">
          <div class="card-content p-32 flex flex-col flex-grow">
            <h3 class="mb-16">Teacher Training & Classroom Support</h3>
            <p class="text-muted-foreground mb-24 leading-relaxed">
              Professional development for educators working with neurodiverse students. 
              Practical strategies for classroom management and individualized support.
            </p>
            <div class="space-y-8 text-sm text-muted-foreground mb-24 flex-grow">
              <p>• Understanding ADHD in the classroom</p>
              <p>• Sensory and movement strategies</p>
              <p>• Executive function support</p>
              <p>• Behavior intervention planning</p>
            </div>
            <div class="mt-auto">
              <CalButton 
                calLink={getCalSlug(calendarLinks.consultation)}
                className="btn-primary w-full"
                namespace="services-consultation"
                client:load
              >
                Schedule Consultation
              </CalButton>
            </div>
          </div>
        </div>
        
        <div class="card hover:shadow-lg transition-shadow duration-300 flex flex-col h-full">
          <div class="card-content p-32 flex flex-col flex-grow">
            <h3 class="mb-16">Presentations for Parent Advisory Groups</h3>
            <p class="text-muted-foreground mb-24 leading-relaxed">
              Educational presentations for school parent groups on supporting neurodiverse 
              children at home and advocating effectively within the school system.
            </p>
            <div class="space-y-8 text-sm text-muted-foreground mb-24 flex-grow">
              <p>• ADHD myths and realities</p>
              <p>• Home-school collaboration</p>
              <p>• IEP and 504 plan guidance</p>
              <p>• Building resilience in children</p>
            </div>
            <div class="mt-auto">
              <CalButton 
                calLink={getCalSlug(calendarLinks.consultation)}
                className="btn-primary w-full"
                namespace="services-consultation"
                client:load
              >
                Schedule Consultation
              </CalButton>
            </div>
          </div>
        </div>
        
        <div class="card hover:shadow-lg transition-shadow duration-300 flex flex-col h-full">
          <div class="card-content p-32 flex flex-col flex-grow">
            <h3 class="mb-16">Professional Networking (Office Hours)</h3>
            <p class="text-muted-foreground mb-24 leading-relaxed">
              Brief sessions for allied professionals or potential clients to explore 
              collaboration opportunities and discuss specific questions or concerns.
            </p>
            <div class="space-y-8 text-sm text-muted-foreground mb-24 flex-grow">
              <p>• Professional consultation</p>
              <p>• Resource sharing</p>
              <p>• Referral discussions</p>
              <p>• Introductory conversations</p>
            </div>
            <div class="mt-auto">
              <CalButton 
                calLink={getCalSlug(calendarLinks.officeHours)}
                className="btn-primary w-full"
                namespace="office-hours"
                client:load
              >
                Schedule Office Hours
              </CalButton>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

</Layout>
